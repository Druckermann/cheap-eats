<div class="d-flex justify-content-center">
  <h1><%= @recipe.name %></h1>
</div>

<div class="card">
  <div class="card" style="text-align: center;">
    <%= cl_image_tag @recipe.image.key %>
    <h5><%= @recipe.description %></h5>
  </div>
  <div class="card-small">
    <p>Servings: <%= @recipe.servings %></p>
    <p>Cook time: <%= @recipe.cook_time%> minutes</p>
    <p>Prep time: <%= @recipe.prep_time%> minutes</p>
    <p>Ingredients:</p>
    <ul>
      <% @recipe.ingredients.split(',').map(&:strip).each do |ingredient| %>
        <li><%= ingredient %></li>
      <% end %>
    </ul>
    <p>Instructions:</p>
    <ol>
      <% @recipe.steps.split(/\d+\./).map(&:strip).each do |steps| %>
        <% unless steps.empty? %>
          <li><%= steps %></li>
        <% end %>
      <% end %>
    </ol>
  </div>
</div>

<div class="container" style="text-align: center;" >
  <% if @recipe.favourite? %>
    <%= link_to "Remove from favourites", recipe_path(@recipe, recipe: { favourite: false }), method: :put, class: "btn btn-secondary btn-sm" %>
  <% else %>
    <%= link_to "Add to favourites", recipe_path(@recipe, recipe: { favourite: true }), method: :put, class: "btn btn-secondary btn-sm" %>
  <% end %>
  <%= link_to "Return to recipes", recipes_path, class: "btn btn-secondary btn-sm" %>
</div>
